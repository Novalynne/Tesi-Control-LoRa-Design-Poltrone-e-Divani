{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block title %}LoRA Training{% endblock %}
{% block css %}
<style>
    .asteriskField { display: none; }
    label { font-weight: bold; }
</style>
{% endblock %}

{% block content %}
<div class="container">

    <div class="text-center mt-4 mb-4">
        <h1 class="fw-bold">Train a LoRA Model</h1>
        <p class="text-muted">
            Configure your LoRA training job by providing a name, base model, HuggingFace dataset, Hub model ID, and Hub token.
        </p>
    </div>

    {% if not training_started %}

    <!-- Form -->
    <div class="card shadow-sm mx-auto" style="max-width: 650px;">
        <div class="card-body">
            <form method="post">
                {% csrf_token %}
                {{ form|crispy }}
                <button type="submit" class="btn btn-primary w-100 mt-3">Start Training</button>
            </form>
        </div>
    </div>

    {% else %}

    <!-- Message after form -->
    <div class="card shadow-sm mx-auto mt-4" style="max-width: 650px;">
        <div class="card-body text-center">
            <h3 class="fw-bold mb-3">Training Started</h3>
            <p>Your GPU is starting the training on your LoRA model.</p>
            <p>You will find your result in your HuggingFace profile at the end of the training:</p>
            <a href="{{ hf_url }}" target="_blank" class="btn btn-success mt-3">
                Go to HuggingFace Model
            </a>
        </div>
    </div>

    <div style="height: 120px;"></div>
    {% endif %}

</div>
{% endblock %}


